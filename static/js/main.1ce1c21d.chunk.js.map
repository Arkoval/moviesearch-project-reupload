{"version":3,"sources":["component/Movie.js","component/MovieList.js","component/Search.js","component/MovieInfo.js","component/Pagination.js","index.js"],"names":["Movie","this","props","id","poster","title","viewPopup","movieId","key","className","src","alt","href","onClick","Component","MovieList","movies","map","movie","i","poster_path","Search","handleInput","handleSubmit","randomMovie","selectedGenre","genres","handleSelect","onSubmit","type","placeholder","onChange","value","genre","name","MovieInfo","selected","release_date","vote_average","overview","closePopup","target","Pagination","pageLinks","active","currentPage","push","nextPage","pages","App","e","preventDefault","setState","search","randomPage","Math","random","fetch","apiUrl","state","then","data","json","console","log","results","total_results","pageNumber","filterMovie","filter","newSelected","length","numberPages","floor","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1ce1c21d.chunk.js","sourcesContent":["import React, {Component} from \"react\";\r\n\r\nexport default class Movie extends Component {\r\n\r\n    render() {\r\n        const {id, poster, title, viewPopup, movieId} = this.props;\r\n        return <div key={id} className=\"movieCard\">\r\n            {\r\n                poster == null ? <img className={'poster'}\r\n                                      src=\"https://s.tmimgcdn.com/scr/84100/strona-specjalna-cute-404-error-84122_84122-original.jpg\"\r\n                                      alt=\"\"/> :\r\n                    <img className={'poster'} src={`http://image.tmdb.org/t/p/w185${poster}`} alt=\"\"/>\r\n            }\r\n            <a href='#' onClick={() => viewPopup(movieId)}>{title}</a>\r\n        </div>\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport Movie from \"./Movie\";\r\n\r\nconst MovieList = ({movies, viewPopup}) => {\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            {movies.map((movie, i) => {\r\n                return (\r\n                    <Movie\r\n                        key={i}\r\n                        poster={movie.poster_path}\r\n                        title={movie.title}\r\n                        viewPopup={viewPopup}\r\n                        movieId={movie.id}\r\n                    />)\r\n            })\r\n            }\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default MovieList","import React from \"react\";\r\n\r\nfunction Search({handleInput, handleSubmit, randomMovie,selectedGenre, genres, handleSelect}) {\r\n\r\n    return (<div >\r\n\r\n            <form className={'search'} onSubmit={handleSubmit}>\r\n                <input\r\n                    type={'text'}\r\n                    className={'searchInput'}\r\n                    placeholder={\"Don't be shy, write something\"}\r\n                    onChange={handleInput}/>\r\n                    <button className={'searchBtn btn'}>Search</button>\r\n            </form>\r\n            <div className={'randomSearch'}>\r\n                <h1>Look for random</h1>\r\n                <button className={'random btn'} onClick={randomMovie}>Give me random movies!</button>\r\n                <select className={'randomSelect'} value={selectedGenre} onChange={handleSelect}>\r\n                    {genres.map((genre,i) =>\r\n                      <option key={i} value={genre.id} >{genre.name}</option>)}\r\n                </select>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Search","import React from \"react\";\r\n\r\nconst MovieInfo = (props) => {\r\n\r\n    return (\r\n        <div className={'popup'}>\r\n            <div className=\"popupContent\">\r\n                <h1>{props.selected.title} </h1>\r\n                <span>({props.selected.release_date})</span>\r\n                <p className={'rating'}>Rating: <span> {props.selected.vote_average}</span></p>\r\n\r\n                <div className=\"plot\">\r\n                    {\r\n                        props.selected.poster_path == null ? <img className={'poster'}\r\n                                                                  src=\"https://s.tmimgcdn.com/scr/84100/strona-specjalna-cute-404-error-84122_84122-original.jpg\"\r\n                                                                  alt=\"\"/> :\r\n                            <img className={'poster'}\r\n                                 src={`http://image.tmdb.org/t/p/w185${props.selected.poster_path}`} alt=\"\"/>\r\n                    }\r\n                    <p>{props.selected.overview}</p>\r\n                </div>\r\n                <button className={'close'} onClick={props.closePopup}>Close</button>\r\n                <a className={'yt'}\r\n                   href={`https://www.youtube.com/results?search_query=${props.selected.title}+trailer`}\r\n                   target={'_blank'}>Youtube trailer</a>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n\r\n};\r\n\r\nexport default MovieInfo","import React from \"react\";\r\n\r\nconst Pagination = (props) => {\r\n    const pageLinks = [];\r\n\r\n    for(let i=1; i <= props.pages+1; i++){\r\n        let active = props.currentPage === i ? 'active' : null;\r\n\r\n        pageLinks.push(<li key={i} onClick={() => props.nextPage(i)}><a className={active} href=\"#\">{i}</a></li>)\r\n    }\r\n\r\n    return <ul className={'pagination'}>\r\n        {pageLinks}\r\n    </ul>\r\n\r\n}\r\n\r\nexport default Pagination\r\n\r\n\r\n","import React, {Component} from \"react\";\nimport ReactDOM from \"react-dom\";\nimport 'reset-css';\nimport './index.css';\nimport MovieList from './component/MovieList';\nimport Search from \"./component/Search\";\nimport MovieInfo from './component/MovieInfo';\nimport Pagination from \"./component/Pagination\";\n\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            movies: [],\n            search: '',\n            selected: null,\n            currentPage: 1,\n            results: 0,\n            genres: [],\n            selectedGenre: '',\n\n        };\n        this.apiUrl = '5225ac57139869fdc409e5ab72f214fd';\n    };\n\n    handleInput = e => {\n        e.preventDefault()\n        this.setState({search: [e.target.value]})\n    };\n\n    randomMovie = e => {\n        e.preventDefault()\n        const randomPage = Math.random() * (500 - 1) + 1;\n        fetch(`https://api.themoviedb.org/3/discover/movie?api_key=${this.apiUrl}&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=1&page=${randomPage}&with_genres=${this.state.selectedGenre}`)\n            .then(data => data.json())\n            .then(data => {\n                console.log(data)\n                this.setState({movies: data.results})\n\n            })\n    };\n\n    componentDidMount() {\n        fetch(`https://api.themoviedb.org/3/genre/movie/list?api_key=${this.apiUrl}&language=en-US`)\n            .then(data => data.json())\n            .then(data => {\n                this.setState({genres: data.genres})\n            })\n    }\n\n    handleSelect = e => {\n        e.preventDefault()\n        this.setState({selectedGenre: [e.target.value]})\n        console.log(this.state.selectedGenre)\n    }\n\n    handleSubmit = e => {\n        e.preventDefault()\n        fetch(`https://api.themoviedb.org/3/search/movie?api_key=${this.apiUrl}&query=${this.state.search}`)\n            .then(data => data.json())\n            .then(data => {\n                this.setState({movies: [...data.results], results: data.total_results})\n            })\n    };\n    //############  Na przyszłość do seriali  ###########\n    // handleSubmitTv = e => {\n    //     e.preventDefault()\n    //     fetch(`https://api.themoviedb.org/3/search/tv?api_key=${this.apiUrl}&query=${this.state.search}`)\n    //         .then(data => data.json())\n    //         .then(data => {\n    //             this.setState({movies: [...data.results], results: data.total_results})\n    //         })\n    //\n    // }\n\n    nextPage = (pageNumber) => {\n        fetch(`https://api.themoviedb.org/3/search/movie?api_key=${this.apiUrl}&query=${this.state.search}&page=${pageNumber}`)\n            .then(data => data.json())\n            .then(data => {\n                this.setState({movies: [...data.results], currentPage: pageNumber})\n\n            });\n    };\n\n    viewPopup = id => {\n        const filterMovie = this.state.movies.filter(movie => movie.id === id);\n        const newSelected = filterMovie.length > 0 ? filterMovie[0] : null;\n        this.setState({selected: newSelected})\n    };\n\n    closePopup = () => {\n        this.setState({selected: null})\n    };\n\n    render() {\n        const numberPages = Math.floor(this.state.results / 20);\n        return (\n            <>\n                <header>\n                    <h1>Movies Search</h1>\n                </header>\n                {this.state.selected == null ? <main>\n                        <Search handleSubmit={this.handleSubmit}\n                                handleInput={this.handleInput}\n                                randomMovie={this.randomMovie}\n                                handleSelect={this.handleSelect}\n                                genres={this.state.genres}\n                                selectedGenre={this.state.selectedGenre}\n                        />\n                        <MovieList viewPopup={this.viewPopup} movies={this.state.movies}/>\n                    </main> :\n                    <MovieInfo genres={this.state.genres} selected={this.state.selected} closePopup={this.closePopup}/>}\n                {this.state.results > 20 ? <Pagination pages={numberPages} nextPage={this.nextPage} currentPage={this.state.currentPage}/> : null}\n            </>\n        )\n    }\n}\n\nReactDOM.render(<App/>, document.getElementById(\"app\"));\n"],"sourceRoot":""}